"use strict";(self.webpackChunklago_doc=self.webpackChunklago_doc||[]).push([[5080],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=p(n),f=a,m=d["".concat(l,".").concat(f)]||d[f]||u[f]||o;return n?r.createElement(m,c(c({ref:t},s),{},{components:n})):r.createElement(m,c({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,c=new Array(o);c[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var p=2;p<o;p++)c[p]=n[p];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},916:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={date:"2022-12-08T10:00"},c="New calculation method for invoices",i={permalink:"/changelog/invoice-calculation-method",editUrl:"changelog/changelog/invoice-calculation-method.md",source:"@site/changelog/invoice-calculation-method.md",title:"New calculation method for invoices",description:"In preparation for the release of the credit note feature and based on feedback from accountants, we have introduced changes to the way coupons and prepaid credits are taken into account in the calculation of invoices.",date:"2022-12-08T10:00:00.000Z",formattedDate:"December 8, 2022",tags:[],readingTime:.855,hasTruncateMarker:!1,authors:[],frontMatter:{date:"2022-12-08T10:00"},prevItem:{title:"Invoice payment status",permalink:"/changelog/invoice-payment-status"},nextItem:{title:"Apply several coupons",permalink:"/changelog/coupons-v3"}},l={authorsImageUrls:[]},p=[],s={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In preparation for the release of the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/getlago/lago/issues/59"},"credit note feature")," and based on feedback from accountants, we have introduced changes to the way coupons and prepaid credits are taken into account in the calculation of invoices."),(0,a.kt)("p",null,"Until now, ",(0,a.kt)("a",{parentName:"p",href:"../docs/guide/coupons"},"coupons")," and ",(0,a.kt)("a",{parentName:"p",href:"../docs/guide/prepaid_credits"},"prepaid credits")," were deducted from the amount before tax - for example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CURRENT INVOICE CALCULATION\n-----------------------------\nAll subscriptions = $50\nAll usage-based fees = $20\nCoupons = $10\nPrepaid credits = $30\n-----------------------------\nSubtotal = $30\nTax (10%) = $3\nTotal due = $33\n")),(0,a.kt)("p",null,"From now on, ",(0,a.kt)("strong",{parentName:"p"},"coupons and prepaid credits will be deducted from the amount after tax"),"."),(0,a.kt)("p",null,"Following the previous example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"NEW INVOICE CALCULATION\n-----------------------------\nAll subscriptions = $50\nAll usage-based fees = $20\n-----------------------------\nSubtotal (excl. tax) = $70\nTax (10%) = $7\n-----------------------------\nSubtotal (incl. tax) = $77\nCoupons = $10\nPrepaid credits = $30\nTotal due = $37\n")),(0,a.kt)("p",null,"In addition to this, credit purchases are now considered as advance payments. Therefore, ",(0,a.kt)("strong",{parentName:"p"},"the tax rate no longer applies to the purchase of credits"),"."))}u.isMDXComponent=!0}}]);