"use strict";(self.webpackChunklago_doc=self.webpackChunklago_doc||[]).push([[2664],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>g});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(o),k=r,g=d["".concat(l,".").concat(k)]||d[k]||h[k]||a;return o?n.createElement(g,i(i({ref:t},p),{},{components:o})):n.createElement(g,i({ref:t},p))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=k;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=o[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}k.displayName="MDXCreateElement"},18071:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=o(87462),r=(o(67294),o(3905));const a={sidebar_position:14},i="Webhooks",s={unversionedId:"guide/webhooks",id:"guide/webhooks",title:"Webhooks",description:"When using Lago, the app generates several events that you can listen to in order to trigger workflows. Each time an event is generated, you can view it in the Lago application using the webhook logs. This allows you to take a closer look at the generated events, detect possible errors, and retry them.",source:"@site/docs/guide/14_webhooks.md",sourceDirName:"guide",slug:"/guide/webhooks",permalink:"/docs/guide/webhooks",draft:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14},sidebar:"guide",previous:{title:"Prepaid credits",permalink:"/docs/guide/prepaid_credits"},next:{title:"Emails",permalink:"/docs/guide/emails"}},l={},c=[{value:"Adding a webhook URL",id:"adding-a-webhook-url",level:2},{value:"Accessing the webhook logs",id:"accessing-the-webhook-logs",level:2},{value:"Accessing a specific event",id:"accessing-a-specific-event",level:2},{value:"Errors and retries",id:"errors-and-retries",level:2}],p={toc:c},d="wrapper";function h(e){let{components:t,...a}=e;return(0,r.kt)(d,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"webhooks"},"Webhooks"),(0,r.kt)("p",null,"When using Lago, the app generates ",(0,r.kt)("a",{parentName:"p",href:"https://doc.getlago.com/docs/api/webhooks/messages"},"several events")," that you can listen to in order to trigger workflows. Each time an event is generated, you can view it in the Lago application using the webhook logs. This allows you to take a closer look at the generated events, detect possible errors, and retry them."),(0,r.kt)("h2",{id:"adding-a-webhook-url"},"Adding a webhook URL"),(0,r.kt)("p",null,"To add a webhook endpoint via the Lago app, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go to the ",(0,r.kt)("strong",{parentName:"li"},"Developers")," section via the sidebar;"),(0,r.kt)("li",{parentName:"ol"},"Open the ",(0,r.kt)("strong",{parentName:"li"},"Webhooks")," tab;"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Add a webhook"),";"),(0,r.kt)("li",{parentName:"ol"},"Enter the webhook URL; and"),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Add webhook")," to confirm.")),(0,r.kt)("h2",{id:"accessing-the-webhook-logs"},"Accessing the webhook logs"),(0,r.kt)("p",null,"Once a webhook is registered in the app, you can access the webhook logs:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go to the ",(0,r.kt)("strong",{parentName:"li"},"Developers")," section via the sidebar;"),(0,r.kt)("li",{parentName:"ol"},"Open the ",(0,r.kt)("strong",{parentName:"li"},"Webhooks")," tab;"),(0,r.kt)("li",{parentName:"ol"},"Click on the webhook endpoint to see the list of events; and"),(0,r.kt)("li",{parentName:"ol"},"Click the reload icon to see new events (optional).")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Webhook logs",src:o(34527).Z,width:"2922",height:"1876"})),(0,r.kt)("h2",{id:"accessing-a-specific-event"},"Accessing a specific event"),(0,r.kt)("p",null,"You can see the details of a specific event by clicking on it. Depending on the event status, you will have access to two or three main blocks:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"A list of properties, including:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Timestamp:")," the timestamp of the event;"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Webhook URL:")," the URL used to listen to events;"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Unique key:")," idempotency key associated with the event;"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Webhook type:")," the webhook type used to understand the action triggered;"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Response:")," the response code (i.e. acknowledgement of receipt);"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Number of retries:")," if the event failed, the number of retries attempted;"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"A JSON snippet with the arguments sent by Lago; and")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"If the event failed, an error response will be included."))),(0,r.kt)("h2",{id:"errors-and-retries"},"Errors and retries"),(0,r.kt)("p",null,"Some events generated by Lago may not be received on the user side, which is why Lago displays an error status in the user interface."),(0,r.kt)("p",null,"Please note that Lago will automatically retry to send the event three times. You can also try again manually at any time by clicking ",(0,r.kt)("strong",{parentName:"p"},"Retry")," in the upper right corner of the panel."))}h.isMDXComponent=!0},34527:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/webhook-logs-4bb9abafa5c8ccc09b8f0416aae2adb1.png"}}]);